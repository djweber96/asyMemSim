%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% function:    dataBank(sysInfo)                                          %
% Description: Build parameter matricies based on system specifications.  %
% Input:       sysInfoExt - external struct defining simulation specs     %
%                             (memID, mixID, yf, n, lmem, Pu, Pd, T, R    %
%                              memPhaseModel, diffModel, swlDiffModel)    %
% Output:      params     - struct of system parameters                   %
%                             (compID, n, Vs, HanSolParam, psat, chis [FH %
%                             or FH-LM], diffs, Ch & bs [FH-LM or DSM],   %
%                             ks [DSM], unitActPhis, Bffv, and all        %
%                             fields listed in sysInfo struct)            %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

function [params] = dataBank(sysInfo)

%------------------------------------------------------------------------------------------------------------------------------------% 
%full parameter/data sets
    if contains(sysInfo.memID,'SBAD1')
      % Lively/Ronita's 9-comp data TOL/MCH/1MN/DCN/NOC/IOC/TBB/TPB/ICE/SBAD-1
        params.lmem = 0.3; % thickness of active membrane layer um
        params.compID = struct('TOL', 1, 'MCH', 2, 'MNP', 3, 'DEC', 4, 'NOC', 5, 'IOC', 6, 'TBB', 7, 'TPB', 8, 'ICT', 9);
        params.n = 9; 
        params.Vs = [106.521;128.123;139.823;156.962;163.42;165.552;155.529;240.069;293.267;62326]; %cm3/mol
        params.HanSolParam = [18,1.4,2;16,0,1;20.6,0.8,4.7;18,0,0;15.5,0,0;14.1,0,0;17.4,0.1,1.1;18,0,0.6;16.3,0,0]; %[delD,delP,delH;...]
        params.psat = [28.998;46.596;0.059;0.975;14.805;49.087;2.115;0.0352;0.0458];%torr
        
        if contains(sysInfo.memPhaseModel,'F-H')    
            params.chis = [1,1,1,1,1,1,1,1,1,0.839;...
                    1,1,1,1,1,1,1,1,1,1.672;...
                    1,1,1,1,1,1,1,1,1,0.705;...
                    1,1,1,1,1,1,1,1,1,2.785;...
                    1,1,1,1,1,1,1,1,1,1.139;...
                    1,1,1,1,1,1,1,1,1,3.046;...
                    1,1,1,1,1,1,1,1,1,1.648;...
                    1,1,1,1,1,1,1,1,1,2.5;...
                    1,1,1,1,1,1,1,1,1,3.128];
                    params.chis(params.n+1,1:params.n+1) =  [params.chis(:,end).',1]; %note chi_ji = chi_ij exp FH
             params.diffs = [1,1,1,1,1,1,1,1,1,37.4;...
                     1,1,1,1,1,1,1,1,1,13.8;...
                     1,1,1,1,1,1,1,1,1,0.197;...
                     1,1,1,1,1,1,1,1,1,3.73;...
                     1,1,1,1,1,1,1,1,1,9.05;...
                     1,1,1,1,1,1,1,1,1,3.54;...
                     1,1,1,1,1,1,1,1,1,6.66;...
                     1,1,1,1,1,1,1,1,1,0.0114;...
                     1,1,1,1,1,1,1,1,1,0.454];
                    params.diffs(params.n+1,1:params.n+1) =  [params.diffs(:,end).',1]; %um2/s FH Exp Based MS diffs 
            if sysInfo.lowDiffErrorBar == 0
                params.diffs = [1,1,1,1,1,1,1,1,1,16.0768;...
                     1,1,1,1,1,1,1,1,1,5.84;...
                     1,1,1,1,1,1,1,1,1,0.0555;...
                     1,1,1,1,1,1,1,1,1,1.7532;...
                     1,1,1,1,1,1,1,1,1,5.7031;...
                     1,1,1,1,1,1,1,1,1,7.1845;...
                     1,1,1,1,1,1,1,1,1,1.4710;...
                     1,1,1,1,1,1,1,1,1,0.0726;...
                     1,1,1,1,1,1,1,1,1,0.6182]; %um2/s FH Exp Based tweaked for single comp MS diffs 
            elseif sysInfo.lowDiffErrorBar == 1
                params.diffs = [1,1,1,1,1,1,1,1,1,14.7187;...
                     1,1,1,1,1,1,1,1,1,2.9989;...
                     1,1,1,1,1,1,1,1,1,0.0442;...
                     1,1,1,1,1,1,1,1,1,1.3636;...
                     1,1,1,1,1,1,1,1,1,4.4244;...
                     1,1,1,1,1,1,1,1,1,4.3297;...
                     1,1,1,1,1,1,1,1,1,1.0233;...
                     1,1,1,1,1,1,1,1,1,0.0726;...
                     1,1,1,1,1,1,1,1,1,0.5624]; %Mixed Exp (LOW ERROR) Based FH Tweaked to match single comp FH um2/s   
            end
            if sysInfo.memPhaseModel_FicksOG == 1
                if sysInfo.lowDiffErrorBar == 0
                    params.diffs = [1,1,1,1,1,1,1,1,1,3.7303;...
                        1,1,1,1,1,1,1,1,1,3.4818;...
                        1,1,1,1,1,1,1,1,1,0.0098;...
                        1,1,1,1,1,1,1,1,1,1.4674;...
                        1,1,1,1,1,1,1,1,1,2.2808;...
                        1,1,1,1,1,1,1,1,1,6.2724;...
                        1,1,1,1,1,1,1,1,1,0.8733;...
                        1,1,1,1,1,1,1,1,1,0.0582;...
                        1,1,1,1,1,1,1,1,1,0.5455]; %um2/s FICKS FH-BC tweaked for single comp 20bar
                elseif sysInfo.lowDiffErrorBar == 1    
                    params.diffs = [1,1,1,1,1,1,1,1,1,3.4152;...
                        1,1,1,1,1,1,1,1,1,1.7879;...
                        1,1,1,1,1,1,1,1,1,0.0078;...
                        1,1,1,1,1,1,1,1,1,1.1414;...
                        1,1,1,1,1,1,1,1,1,1.7694;...
                        1,1,1,1,1,1,1,1,1,3.7801;...
                        1,1,1,1,1,1,1,1,1,0.6075;...
                        1,1,1,1,1,1,1,1,1,0.0582;...
                        1,1,1,1,1,1,1,1,1,0.4963]; %um2/s FICKS (LOW ERROR) FH-BC tweaked for single comp 20 bar
                end
            end
        elseif contains(sysInfo.memPhaseModel,'DSM')
            params.Ch = [0.110;0.0996;0;0.0620;0.287;0.07;0.00975;0.0150;0.00998];
            params.bs = [0.810;0.11;212;0;0.120;0.68;0;0;46.5]; %torr^-1 mixed exp and genome
            params.ks = [0.0208;0.00079;19.3;0.0272;0.00987;0.00026;0.0568;1.13;0.251]; 
            if sysInfo.lowDiffErrorBar == 0
                params.diffs = [1,1,1,1,1,1,1,1,1,6.2175;...
                    1,1,1,1,1,1,1,1,1,2.5809;...
                    1,1,1,1,1,1,1,1,1,0.0181;...
                    1,1,1,1,1,1,1,1,1,0.8073;...
                    1,1,1,1,1,1,1,1,1,2.2155;...
                    1,1,1,1,1,1,1,1,1,0.795;...
                    1,1,1,1,1,1,1,1,1,0.6567;...
                    1,1,1,1,1,1,1,1,1,0.0300;...
                    1,1,1,1,1,1,1,1,1,0.2632];
                params.diffs(params.n+1,1:params.n+1) =  [params.diffs(:,end).',1]; %Mixed Exp Based DSM Tweaked to match single comp backup1.22 i-OCT for 20 bar fit but 2.852 for fit of 30bar-60bar %um2/s
            elseif sysInfo.lowDiffErrorBar == 1
                params.diffs = [1,1,1,1,1,1,1,1,1,5.6922;...
                    1,1,1,1,1,1,1,1,1,1.3253;...
                    1,1,1,1,1,1,1,1,1,0.0144;...
                    1,1,1,1,1,1,1,1,1,0.6279;...
                    1,1,1,1,1,1,1,1,1,1.7188;...
                    1,1,1,1,1,1,1,1,1,0.4791;...
                    1,1,1,1,1,1,1,1,1,0.4569;...
                    1,1,1,1,1,1,1,1,1,0.0300;...
                    1,1,1,1,1,1,1,1,1,0.2395];
                params.diffs(params.n+1,1:params.n+1) =  [params.diffs(:,end).',1]; %Mixed Exp (LOW ERROR) Based DSM Tweaked to match single comp DSM um2/s
            end
            if sysInfo.memPhaseModel_FicksOG == 1
                if sysInfo.lowDiffErrorBar == 0
                    params.diffs = [1,1,1,1,1,1,1,1,1,12.4143;...
                        1,1,1,1,1,1,1,1,1,6.8815;...
                        1,1,1,1,1,1,1,1,1,0.0389;...
                        1,1,1,1,1,1,1,1,1,0.8291;...
                        1,1,1,1,1,1,1,1,1,4.5836;...
                        1,1,1,1,1,1,1,1,1,4.6653;...
                        1,1,1,1,1,1,1,1,1,0.7367;...
                        1,1,1,1,1,1,1,1,1,0.0312;...
                        1,1,1,1,1,1,1,1,1,0.358]; %um2/s FICKS DSM-BC tweaked for single comp
                elseif sysInfo.lowDiffErrorBar == 1
                    params.diffs = [1,1,1,1,1,1,1,1,1,11.3656;...
                        1,1,1,1,1,1,1,1,1,3.5337;...
                        1,1,1,1,1,1,1,1,1,0.0310;...
                        1,1,1,1,1,1,1,1,1,0.6448;...
                        1,1,1,1,1,1,1,1,1,3.5559;...
                        1,1,1,1,1,1,1,1,1,2.8115;...
                        1,1,1,1,1,1,1,1,1,0.5125;...
                        1,1,1,1,1,1,1,1,1,0.0312;...
                        1,1,1,1,1,1,1,1,1,0.3257]; %um2/s FICKS (LOW ERROR) DSM-BC tweaked for single comp
                end
            end
        elseif contains(sysInfo.memPhaseModel,'FH-LM')
            params.chis = [1,1,1,1,1,1,1,1,1,1.01;...
                    1,1,1,1,1,1,1,1,1,2.32;...
                    1,1,1,1,1,1,1,1,1,0.79;...
                    1,1,1,1,1,1,1,1,1,3.06;...
                    1,1,1,1,1,1,1,1,1,1.67;...
                    1,1,1,1,1,1,1,1,1,3.76;...
                    1,1,1,1,1,1,1,1,1,1.69;...
                    1,1,1,1,1,1,1,1,1,2.66;...
                    1,1,1,1,1,1,1,1,1,3.63];
            params.chis(params.n+1,1:params.n+1) =  [params.chis(:,end).',1]; %note chi_ji = chi_ij exp FH-LM mixed FH
            params.Ch = [0.31;0.07302;0.481;0.00761;0.206;0.0112;0.00821;0.00689;0.00801];
            params.bs = [0.431;0.278;86.057;2.145;0.410;0.157;0.083;509.449;110.020]; %torr^-1 
            if sysInfo.lowDiffErrorBar == 0
                params.diffs = [1,1,1,1,1,1,1,1,1,8.1641;...
                    1,1,1,1,1,1,1,1,1,2.9286;...
                    1,1,1,1,1,1,1,1,1,0.0282;...
                    1,1,1,1,1,1,1,1,1,0.9495;...
                    1,1,1,1,1,1,1,1,1,3.0227;...
                    1,1,1,1,1,1,1,1,1,3.6872;...
                    1,1,1,1,1,1,1,1,1,0.8186;...
                    1,1,1,1,1,1,1,1,1,0.0373;...
                    1,1,1,1,1,1,1,1,1,0.3221];
                params.diffs(params.n+1,1:params.n+1) =  [params.diffs(:,end).',1];%Mixed Exp Based FHLM Tweaked to match single comp FH-DSM um2/s
            elseif sysInfo.lowDiffErrorBar == 1
                params.diffs = [1,1,1,1,1,1,1,1,1,7.4744;...
                    1,1,1,1,1,1,1,1,1,1.5039;...
                    1,1,1,1,1,1,1,1,1,0.0224;...
                    1,1,1,1,1,1,1,1,1,0.7385;...
                    1,1,1,1,1,1,1,1,1,2.345;...
                    1,1,1,1,1,1,1,1,1,2.221;...
                    1,1,1,1,1,1,1,1,1,0.5695;...
                    1,1,1,1,1,1,1,1,1,0.0373;...
                    1,1,1,1,1,1,1,1,1,0.293];
                params.diffs(params.n+1,1:params.n+1) =  [params.diffs(:,end).',1];%Mixed Exp (LOW ERROR) Based FHLM Tweaked to match single comp FH-DSM um2/s
            end
            if sysInfo.memPhaseModel_FicksOG == 1
                if sysInfo.lowDiffErrorBar == 0 
                    params.diffs = [1,1,1,1,1,1,1,1,1,5.6046;...
                        1,1,1,1,1,1,1,1,1,5.4868;...
                        1,1,1,1,1,1,1,1,1,0.0135;...
                        1,1,1,1,1,1,1,1,1,0.9983;...
                        1,1,1,1,1,1,1,1,1,4.8003;...
                        1,1,1,1,1,1,1,1,1,6.9887;...
                        1,1,1,1,1,1,1,1,1,0.5228;...
                        1,1,1,1,1,1,1,1,1,0.0390;...
                        1,1,1,1,1,1,1,1,1,0.4791]; %um2/s FICKS FHLM-BC tweaked for single comp
                elseif sysInfo.lowDiffErrorBar == 1 
                    params.diffs = [1,1,1,1,1,1,1,1,1,5.1312;...
                        1,1,1,1,1,1,1,1,1,2.8176;...
                        1,1,1,1,1,1,1,1,1,0.0108;...
                        1,1,1,1,1,1,1,1,1,0.7765;...
                        1,1,1,1,1,1,1,1,1,3.7240;...
                        1,1,1,1,1,1,1,1,1,4.2117;...
                        1,1,1,1,1,1,1,1,1,0.3637;...
                        1,1,1,1,1,1,1,1,1,0.0390;...
                        1,1,1,1,1,1,1,1,1,0.4358]; %um2/s FICKS (LOW ERROR) FHLM-BC tweaked for single comp
                end
            end
        end
        
    %  FFV Diff Model
        params.unitActPhis = [0.420;0.1;0.55;0.0248;0.1569;0.02;0.0429;0.0288;0.0153];
        %params.Bffv = 0.5*[0;1;0;1;0;1;1;1;1]; %0 if phi_i_unit_act >~= FFV_dry and 0.3 if "" << "" 
        params.Bffv = 0.005*[1;1;1;1;1;1;1;1;1]; 
        %params.Bffv = [3.9;0.75;12;0.14;2.1;0.1005;0.245;0.225;0.116]; %fit to UAV and self Ds 
        %params.Bffv = [0;0;0;0.14;0;0;0.2;0.2;0.116]; %fit to UAV and self Ds 
        
    elseif contains(sysInfo.memID,'PIM1')

         %Lively/Ronita's Exp Data for 5-comp TOL/HEP/PXY/OXY/ICE/PIM-1
        params.lmem = 1.5; %thickness of active membrane layer um
        params.compID = struct('TOL', 1, 'HEP', 2, 'PXY', 3, 'OXY', 4, 'ICT', 5);
        params.n = 5;
        params.Vs = [106.521;146.927;123.738;121.196;293.267;71429]; %cm3/mol
        params.HanSolParam = [18,1.4,2;15.3,0,0;17.6,1,3.1;17.8,1,3.1;16.3,0,0]; %[delD,delP,delH;...]
        params.psat = [28.998;44.854;8.803;6.637;0.0458]; %torr
        
        if contains(sysInfo.memPhaseModel,'F-H')
            params.chis = [1,0.0003,0.0005,1.04,0.0001,0.648;...
                0.0003,1,0.0008,0.0002,0.002,0.803;...
                0.0005,0.0008,1,0.0006,1,0.642;...
                0.0003,0.0002,0.0004,0.0004,0.0002,0.56;...
                0.0002,0.001,0.0002,0.0001,0.002,0.698];
                params.chis(params.n+1,1:params.n+1) =  [params.chis(:,end).',1]; %note chi_ji = chi_ij exp FH
            if sysInfo.lowDiffErrorBar == 0     
                params.diffs = [1,100000,100000,100000,100000,52.1071;...
                    100000,1,100000,100000,100000,180.3477;...
                    100000,100000,1,100000,100000,36.2992;...
                    100000,100000,100000,1,100000,16.7253;...
                    100000,100000,100000,100000,1,2.9005]; %um2/s FH EXP (tweaked @20 bar)
            elseif sysInfo.lowDiffErrorBar == 1
                params.diffs = [1,100000,100000,100000,100000,38.7171;...
                    100000,1,100000,100000,100000,146.4918;...
                    100000,100000,1,100000,100000,27.1783;...
                    100000,100000,100000,1,100000,13.6555;...
                    100000,100000,100000,100000,1,1.5781]; %um2/s FH EXP (LOW ERROR)(tweaked @20 bar)
            end
            if sysInfo.memPhaseModel_FicksOG == 1
                if sysInfo.lowDiffErrorBar == 0 
                    params.diffs = [1,100000,100000,100000,100000,6.9497;...
                        100000,1,100000,100000,100000,41.7589;...
                        100000,100000,1,100000,100000,4.9536;...
                        100000,100000,100000,1,100000,1.3240;...
                        100000,100000,100000,100000,1,0.6231]; %um2/s FH-BC FICKS  (tweaked @20 bar)
                elseif sysInfo.lowDiffErrorBar == 1
                    params.diffs = [1,100000,100000,100000,1000000,5.1638;...
                        100000,1,100000,100000,100000,33.9197;...
                        100000,100000,1,100000,100000,3.7089;...
                        100000,100000,100000,1,100000,1.0809;...
                        100000,100000,100000,100000,1,0.339]; %um2/s FH-BC FICKS (LOW ERROR)(tweaked @20 bar)
                end
            end
        elseif contains(sysInfo.memPhaseModel,'DSM')
            params.Ch = [0.221;0.579;0.321;0;0.748];
            params.bs = [6880;0.973;15800;31.5;255]; %torr^-1 mixed exp and genome
            params.ks = [0.0525;0.00744;0.171;0.538;10.7];
            if sysInfo.lowDiffErrorBar == 0 
                params.diffs = [1,100000,100000,100000,100000,14.4815;...
                    100000,1,100000,100000,100000,56.2208;...
                    100000,100000,1,100000,100000,9.3333;...
                    100000,100000,100000,1,100000,2.9288;...
                    100000,100000,100000,100000,1,0.7174]; %um2/s DSM EXP  (tweaked @20 bar)
            elseif sysInfo.lowDiffErrorBar == 1
                params.diffs = [1,100000,100000,100000,100000,10.7602;...
                    100000,1,100000,100000,100000,45.6667;...
                    100000,100000,1,100000,100000,6.9881;...
                    100000,100000,100000,1,100000,2.3912;...
                    100000,100000,100000,100000,1,0.3903]; %um2/s DSM EXP (LOW ERROR)(tweaked @20 bar)
            end
            if sysInfo.memPhaseModel_FicksOG == 1
                if sysInfo.lowDiffErrorBar == 0 
                    params.diffs = [1,100000,100000,100000,100000,45.626;...
                        100000,1,100000,100000,100000,276.7435;...
                        100000,100000,1,100000,100000,32.1037;...
                        100000,100000,100000,1,100000,13.4607;...
                        100000,100000,100000,100000,1,3.3791]; %um2/s DSM-BC FICKS  (tweaked @20 bar)
                elseif sysInfo.lowDiffErrorBar == 1
                    params.diffs = [1,100000,100000,100000,100000,33.9014;...
                        100000,1,100000,100000,100000,224.7971;...
                        100000,100000,1,100000,100000,24.0307;...
                        100000,100000,100000,1,100000,10.9901;...
                        100000,100000,100000,100000,1,1.8385]; %um2/s DSM-BC FICKS (LOW ERROR)(tweaked @20 bar)
                end
            end
        elseif contains(sysInfo.memPhaseModel,'FH-LM')
            params.Ch = [0.77;0.68;0.73;0.71;1.01];
            params.bs = [0.59;0.68;5.32;6.55;161.73];
            params.chis = [1,0.0003,0.0005,1.04,0.0001,0.73;...
                0.0003,1,0.0008,0.0002,0.002,1.38;...
                0.0005,0.0008,1,0.0006,1,0.71;...
                0.0003,0.0002,0.0004,0.0004,0.0002,0.57;...
                0.0002,0.001,0.0002,0.0001,0.002,1.02];
                params.chis(params.n+1,1:params.n+1) =  [params.chis(:,end).',1]; %note chi_ji = chi_ij exp FH_LM
            if sysInfo.lowDiffErrorBar == 0
               params.diffs = [1,100000,100000,100000,100000,24.8012;...
                    100000,1,100000,100000,100000,92.8445;...
                    100000,100000,1,100000,100000,16.6039;...
                    100000,100000,100000,1,100000,7.9631;...
                    100000,100000,100000,100000,1,1.2863]; %um2/s FH_DSM EXP (LOW ERROR) (tweaked @20 bar)                 
            elseif sysInfo.lowDiffErrorBar == 1
                params.diffs = [1,100000,100000,100000,100000,18.428;...
                    100000,1,100000,100000,100000,75.416;...
                    100000,100000,1,100000,100000,12.4319;...
                    100000,100000,100000,1,100000,6.5015;...
                    100000,100000,100000,100000,1,0.6999]; %um2/s FH_DSM EXP (LOW ERROR) (tweaked @20 bar)
            end
            if sysInfo.memPhaseModel_FicksOG == 1
                if sysInfo.lowDiffErrorBar == 0 
                    params.diffs = [1,100000,100000,100000,100000,11.0699;...
                        100000,1,100000,100000,100000,223.9112;...
                        100000,100000,1,100000,100000,7.3872;...
                        100000,100000,100000,1,100000,1.5503;...
                        100000,100000,100000,100000,1,2.0674]; %um2/s FHLM-BC FICKS  (tweaked @20 bar)
                elseif sysInfo.lowDiffErrorBar == 1
                    params.diffs = [1,100000,100000,100000,100000,8.2252;...
                        100000,1,100000,100000,100000,181.8773;...
                        100000,100000,1,100000,100000,5.5310;...
                        100000,100000,100000,1,100000,1.2658;...
                        100000,100000,100000,100000,1,1.1248]; %um2/s FHLM-BC FICKS (LOW ERROR)(tweaked @20 bar)
                end
            end
        end
  %FFV Diff Model
    params.unitActPhis = [0.65;0.46;0.67;0.85;0.6];
    params.Bffv = 0.03*[1;1;1;1;1]; %0 if phi_i_unit_act > FFV_dry and 0.3 if "" << "" 
    %params.Bffv = 0.1*ones(5,1); %0 if phi_i_unit_act > FFV_dry and 0.3 if less than
    end
%------------------------------------------------------------------------------------------------------------------------------------% 

%------------------------------------------------------------------------------------------------------------------------------------% 
%custom parameter sets based on inputs
    compID = [];
    for i = 1:sysInfo.n
        compID_i = getfield(params.compID,sysInfo.mixID(i));
        compID = [compID;compID_i];
    end
    if contains(sysInfo.memPhaseModel,'F-H')||contains(sysInfo.memPhaseModel,'FH-LM')
        params.chis = [0.1*ones(sysInfo.n),params.chis(compID,end);params.chis([compID;1],end).']; %note chi_ji = chi_ij
    end
    params.diffs = [100000*ones(sysInfo.n),params.diffs(compID,end)]; %um2/s  
    params.Vs = [params.Vs(compID);params.Vs(end)]; %cm3/mol
    if sysInfo.crossDiffFudge == 1
        for k = 1:length(sysInfo.crossDiffSpecs)/2
            j = sysInfo.crossDiffSpecs(2*k);
            i = sysInfo.crossDiffSpecs(2*k-1);
            params.diffs(i,j) = sysInfo.crossDiffVals(k);
            params.diffs(j,i) = params.diffs(i,j)*params.Vs(j)/params.Vs(i);
        end
    end
    if contains(sysInfo.memPhaseModel,'DSM')||contains(sysInfo.memPhaseModel,'FH-LM')
        params.bs = params.bs(compID);
        params.Ch = params.Ch(compID);
    end
    if contains(sysInfo.memPhaseModel,'DSM')
        params.ks = params.ks(compID);
    end
    params.HanSolParam = params.HanSolParam(compID,:);
    params.psat = params.psat(compID);
    params.Bffv = params.Bffv(compID);
    params.unitActPhis = params.unitActPhis(compID);
%------------------------------------------------------------------------------------------------------------------------------------% 

%------------------------------------------------------------------------------------------------------------------------------------% 
%carry over needed sysInfo to params
    params.T = sysInfo.T;
    params.R = sysInfo.R;
    params.mixID = sysInfo.mixID;
    if contains(sysInfo.memID,'SBAD1')
        params.memID = 1;
    elseif contains(sysInfo.memID,'PIM1')
        params.memID = 2;
    end
    params.compID = cell2struct(mat2cell(1:sysInfo.n,1,ones(sysInfo.n,1)),params.mixID,2);
    params.Pu = sysInfo.Pu;
    params.Pd = sysInfo.Pd;
    params.yf = sysInfo.yf;
    params.n = sysInfo.n;
    if contains(sysInfo.memPhaseModel,'F-H')
        params.memPhaseModel = 1;
    elseif contains(sysInfo.memPhaseModel,'DSM')
        params.memPhaseModel = 2;
    elseif contains(sysInfo.memPhaseModel,'FH-LM')
        params.memPhaseModel = 3;
    end
    if contains(sysInfo.diffModel,'NoCoupling')
        params.diffModel = 1;
    elseif contains(sysInfo.diffModel,'Vignes')
        params.diffModel = 2;
    elseif contains(sysInfo.diffModel,'Darken')
        params.diffModel = 3;
    elseif contains(sysInfo.diffModel,'Fudge')
        params.diffModel = 4;
    end
    if contains(sysInfo.swlDiffModel,'none')
        params.swlDiffModel = 1;
    elseif contains(sysInfo.swlDiffModel,'FFV-UAV')
        params.swlDiffModel = 2;
    elseif contains(sysInfo.swlDiffModel,'Avg-Diff')
        params.swlDiffModel = 3;
    end
    if contains(sysInfo.numMethod,'FullDis')
        params.numNodes = sysInfo.numNodes; 
    elseif contains(sysInfo.numMethod,'MultShootAlg')
        params.numShootPoints = sysInfo.numShootPoints; 
        params.casADi = sysInfo.casADi;
    end
    params.solverSpec = sysInfo.solverSpec;
    params.iterDetail = sysInfo.iterDetail;
    params.crossDiffFudge = sysInfo.crossDiffFudge;
    params.memPhaseModel_FicksOG = sysInfo.memPhaseModel_FicksOG;
    params.noThermoCoupling = sysInfo.noThermoCoupling;
    if sysInfo.crossDiffFudge == 1
        params.crossDiffSpecs = sysInfo.crossDiffSpecs;
        params.crossDiffVals = sysInfo.crossDiffVals;
    end
    params.pervapMode = sysInfo.pervapMode;
%------------------------------------------------------------------------------------------------------------------------------------% 

end

